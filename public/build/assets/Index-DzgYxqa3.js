import{r as d,j as e,H as g,a as n}from"./app-DtJ35xiz.js";import{U as b}from"./UserLayout-CNWfisUp.js";import{S as h}from"./SearchBox-CSScaDuk.js";import{L as j}from"./styles-CWGc3PHY.js";import"./Button-MploRZnw.js";import"./AOSWrapper-CyGhR2Oq.js";function I({auth:c,galeri:s,filters:l}){const[u,o]=d.useState(!1),[m,x]=d.useState(0);d.useEffect(()=>{const a="lightbox-blur-styles";if(!document.getElementById(a)){const t=document.createElement("style");t.id=a,t.textContent=`
                .yarl__backdrop {
                    backdrop-filter: blur(16px) !important;
                    -webkit-backdrop-filter: blur(16px) !important;
                    background-color: rgba(0, 0, 0, 0.2) !important;
                }
                .yarl__container {
                    background-color: transparent !important;
                }
                .yarl__root {
                    --yarl__color_backdrop: rgba(0, 0, 0, 0.2) !important;
                }
            `,document.head.appendChild(t)}},[]);const p=a=>{n.get("/galeri",{...l,tipe:a.target.value!==""?a.target.value:null},{preserveState:!0,replace:!0})};return e.jsxs(b,{auth:c,children:[e.jsx(g,{title:"Galeri"}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs("div",{className:"mb-8 text-center","data-aos":"fade-down",children:[e.jsx("h1",{className:"text-4xl font-bold text-base-content",children:"Galeri Foto"}),e.jsx("p",{className:"mt-2 text-lg text-base-content/70",children:"Momen-momen kegiatan dan aktivitas"})]}),e.jsx("div",{className:"card bg-base-200 shadow-sm mb-8","data-aos":"fade-up","data-aos-delay":"100",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 items-end justify-end gap-4 md:grid-cols-2",children:[e.jsx(h,{placeholder:"Cari galeri...",defaultValue:l?.search||"",route:"/galeri",routeParams:l,debounceMs:500}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Filter Tipe"})}),e.jsxs("select",{className:"select-bordered select w-full",value:l?.tipe||"",onChange:p,children:[e.jsx("option",{value:"",children:"Semua Tipe"}),e.jsx("option",{value:"umum",children:"Umum"}),e.jsx("option",{value:"kegiatan",children:"Kegiatan"}),e.jsx("option",{value:"fasilitas",children:"Fasilitas"})]})]})]})})}),s.data.length===0?e.jsx("div",{className:"text-center py-12","data-aos":"fade-up",children:e.jsx("p",{className:"text-base-content/70",children:"Tidak ada galeri ditemukan"})}):e.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4 mb-8",children:s.data.map((a,t)=>e.jsxs("div",{className:"card bg-base-200 shadow-lg hover:shadow-xl transition-shadow cursor-pointer aspect-square",onClick:()=>{const i=s.data.filter(r=>r.gambar).findIndex(r=>r.id===a.id);x(i>=0?i:0),o(!0)},"data-aos":"fade-up","data-aos-delay":t*50,children:[e.jsx("figure",{className:"h-full",children:e.jsx("img",{src:a.gambar?`/storage/${a.gambar}`:"/placeholder-image.jpg",alt:a.judul||"Galeri",className:"h-full w-full object-cover"})}),(a.judul||a.kegiatan?.length>0||a.fasilitas?.length>0)&&e.jsxs("div",{className:"card-body p-3 absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent",children:[a.judul&&e.jsx("h3",{className:"card-title text-sm text-white line-clamp-1",children:a.judul}),a.kegiatan&&a.kegiatan.length>0&&e.jsx("span",{className:"badge badge-primary badge-xs",children:"Kegiatan"}),a.fasilitas&&a.fasilitas.length>0&&e.jsx("span",{className:"badge badge-secondary badge-xs",children:"Fasilitas"})]})]},a.id))}),s.links.length>3&&e.jsx("div",{className:"flex justify-center","data-aos":"fade-up",children:e.jsx("div",{className:"join",children:s.links.map((a,t)=>e.jsx("button",{className:`btn join-item ${a.active?"btn-active":""} ${a.url?"":"btn-disabled"}`,onClick:()=>a.url&&n.get(a.url),dangerouslySetInnerHTML:{__html:a.label}},t))})}),e.jsx(j,{open:u,close:()=>o(!1),index:m,slides:s.data.filter(a=>a.gambar).map(a=>({src:`/storage/${a.gambar}`,alt:a.judul||"Galeri",description:a.desk||void 0})),styles:{container:{backgroundColor:"transparent"},backdrop:{backdropFilter:"blur(16px)",WebkitBackdropFilter:"blur(16px)",backgroundColor:"rgba(0, 0, 0, 0.2)"}}})]})]})}export{I as default};
